<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="renderer" content="webkit" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport"
	content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
<title>ProductMS</title>
<link rel="stylesheet" type="text/css"
	href="../static/src/css/layui.css" />
<link rel="stylesheet" type="text/css"
	href="../static/css/formSelects-v4.css" />
<style type="text/css">
body {
	padding: 20px;
	/*padding-left: 0px;*/
}
</style>
</head>
<body>
	<div class="wrap-container">
		<form class="layui-form layui-form-pane" style="width: 100%;"
			method="post" action="" name="form">

			<div class="layui-form-item ">
				<label class="layui-form-label">需求项编号</label>
				<div class="layui-input-block">
					<input type="text" name="ID" disabled="disabled" autocomplete="off"
						class="layui-input" />
				</div>

			</div>

			<div class="layui-form-item">
				<label class="layui-form-label">需求项</label>
				<div class="layui-input-block">
					<input type="text" name="reqItemName" autocomplete="off"
						class="layui-input" />
				</div>

			</div>

			<div class="layui-form-item">
				<label class="layui-form-label">需求项描述</label>
				<div class="layui-input-block">
					<input type="text" name="reqItemDesc" autocomplete="off"
						class="layui-input" />
				</div>

			</div>
			<div class="layui-form-item">
				<label class="layui-form-label">上线日期</label>
				<div class="layui-input-block">
					<input type="text" id="onplan_date" name="onlineDateTime"
						autocomplete="off" class="layui-input" />
				</div>

			</div>
			<div class="layui-form-item">
				<label class="layui-form-label">对应开发任务</label>
				<div class="layui-input-block">
					<input type="text" name="reqItemDev" autocomplete="off"
						class="layui-input" />
				</div>

			</div>
			<div class="layui-form-item">
				<label class="layui-form-label">需求项状态</label>
				<div class="layui-input-block">
					<input type="text" name="reqItemStatus" autocomplete="off"
						class="layui-input" />
				</div>

			</div>

			<div class="layui-form-item" style="display: none">
				<label class="layui-form-label">操作人</label>
				<div class="layui-input-block">
					<input type="text" name="opPerson" value="admin" autocomplete="off"
						class="layui-input" />
				</div>
			</div>


			<div class="layui-form-item">
				<label class="layui-form-label">功能点</label>
				<div class="layui-input-block">
					<select name="func" xm-select="select2" xm-select-direction="up"
						xm-select-show-count="4" xm-select-height="36px">
						<option value="">请选择功能点</option>
						<option value="1">基金认购</option>
						<option value="2">基金申购</option>
						<option value="3">基金赎回</option>
						<option value="4">基金认购</option>
						<option value="5">基金申购</option>
						<option value="6">基金赎回</option>
					</select>
				</div>
			</div>


			<div class="layui-form-item">
				<div class="layui-input-block" style="float: right">
					<button type="button" class="layui-btn layui-btn-primary"
						id="close">关闭</button>
					<button class="layui-btn" id="edit_form_btn" lay-submit=""
						lay-filter="edit_form_btn">确认</button>
				</div>
			</div>
		</form>
	</div>

	<script src="../static/src/layui.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../static/src/public.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../static/js/formSelects-v4.js" type="text/javascript"
		charset="utf-8"></script>
	<script type="text/javascript">
		//Demo
		layui.use([ 'form', 'jquery', 'laydate', 'element', 'util' ],
				function() {
					var form = layui.form;
					var $ = layui.jquery;
					var laydate = layui.laydate;
					form.render();

					//监听提交
					form.on('submit(edit_form_btn)', function(data) {
						// layer.alert("zzf");
						layer.alert(JSON.stringify(data.field));
						$.ajax({
							url : '/updateReqItem',
							data : data.field,
							type : 'POST',//默认以get提交，以get提交如果是中文后台会出现乱码
							dataType : 'json',
							success : function(obj) {
								// layer.close(index);//关闭
								if (obj.success) {
									pubUtil.msg(obj.msg, layer, 1, function() {
										$("#close").click();
									}, 1000);
								} else {
									pubUtil.msg(obj.msg, layer, 2, function() {
									}, 1000);
								}
							}
						});
						return false;
					});

					//多选下拉框

					var formSelects = layui.formSelects;
					formSelects.render('select2');
					formSelects.value('select2');

					//上线时间选择
					var onplanDate = laydate.render({
						elem : '#onplan_date',//选择器结束时间
						theme : 'molv',
						min : "1970-1-1",//设置min默认最小值
						max : "2099-12-31",
					});

				});
	</script>
	<script>
		
	</script>
</body>

</html>